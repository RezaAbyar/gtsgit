{% extends 'base.html' %}
{% load static %}

{% block context %}
<link type="text/css" rel="stylesheet" href="{% static 'assets/css/jalalidatepicker.min.css' %} " />
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/_pelak.css' %}" />
<script type="text/javascript" src="{% static 'assets/js/jalalidatepicker.min.js' %}"></script>
    <script>


    </script>
    {% include 'message.html' %}
    <div class="card">
        <h3>ثبت کارت جامانده جدید</h3>
        <hr>
        <ul class="nav">
         <input id="datecheck" type="hidden" value="{{ today }}">
            {% csrf_token %}
            <div class="card-body">
                         <div class="col-md-6 mb-6 col-sm-12">
             <div style="display: none" class="form-group">
                  <input id="idstatus" type="hidden" value="1">
                                    <label id="Alarm_Fill_CardData" class="invisible"></label>
            <ul class="tabs-menu nav">
                                        <li class=""><button  id="carId" class="btn btn-info" data-bs-toggle="tab" onclick="SetActiveTab(1);"><i class="fa fa-car" aria-hidden="true"></i> خودرو</button></li>
                                        <li><button  id="motorId" data-bs-toggle="tab" class="active" onclick="SetActiveTab(2);"><i class="fa fa-motorcycle" aria-hidden="true"></i> موتور سیکلت</button></li>
                                    </ul>
                 <br>
                                    <div class="tab-content">
                                        <div class="tab-pane   active show" id="tabCar">
                                            <div class="row g-3">
                                                <div id="frame_1">
                                                    <img src="{% static 'assets/media/svg/Pelak-Car.svg' %}" class="Pelak-Pic" alt="Pelak-Pic" id="Pelak-Pic">

                                                    <input type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" placeholder="- -" maxlength="2" id="insPlk_FirstCode" class="Plk_FirstCode" autocomplete="off">
                                                    <input type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" placeholder="- - -" maxlength="3" id="insPlk_SecondCode" class="Plk_SecondCode" autocomplete="off">
                                                    <input type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" placeholder="- -" maxlength="2" id="insPlk_CityCode" class="Plk_CityCode" autocomplete="off">
                                                    <select name="insPlk_CharCode" id="insPlk_CharCode" class="Plk_CharCode">
                                                        <option selected></option>
                                                        <option value="الف">الف</option>
                                                        <option value="ب">ب</option>
                                                        <option value="پ">پ</option>
                                                        <option value="ت">ت</option>
                                                        <option value="ث">ث</option>
                                                        <option value="ج">ج</option>
                                                        <option value="د">د</option>
                                                        <option value="ز">ز</option>
                                                        <option value="ژ">ژ</option>
                                                        <option value="س">س</option>
                                                        <option value="ش">ش</option>
                                                        <option value="ص">ص</option>
                                                        <option value="ط">ط</option>
                                                        <option value="ع">ع</option>
                                                        <option value="ف">ف</option>
                                                        <option value="ق">ق</option>
                                                        <option value="ک">ک</option>
                                                        <option value="گ">گ</option>
                                                        <option value="ل">ل</option>
                                                        <option value="م">م</option>
                                                        <option value="ن">ن</option>
                                                        <option value="و">و</option>
                                                        <option value="ه">ه</option>
                                                        <option value="ی">ی</option>
                                                        <option value='25' id="Vilchare"><i class="fa fa-wheelchair" aria-hidden="true"></i></option>
                                                        <option value="26">D</option>
                                                        <option value="27">S</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tabmotorcycle">
                                            <div id="frame_2">
                                                <img src="{% static 'assets/media/svg/Pelak-MotorSycle.svg' %}" class="Pelak-Pic" alt="Pelak-Pic" id="Pelak-Pic">
                                                <input type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="Plk_FirstCode_MS" placeholder="- - -" maxlength="3" id="insPlk_FirstCode_MS" autocomplete="off">
                                                <input type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="Plk_SecondCode_MS" placeholder="- - - - -" maxlength="5" id="insPlk_SecondCode_MS" autocomplete="off">
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    </div>
                <div class="col-md-6 mb-6 col-sm-12"></div>
                <div class="col-md-6 mb-6 col-sm-12">
                    <div class="form-group">
                        <label for="validationCustom02">نام جایگاه</label>
                        <select id="id_gs" name="gs" class="form-control form-control-bg">

                            {% for g in gs %}
                                <option value="{{ g.gs.id }}">{{ g.gs.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
              <div class="col-md-6 mb-6 col-sm-12"></div>


                <div class="col-md-6 mb-6 col-sm-12">
                    <div class="form-group">
                        <label for="validationCustom02">تاریخ</label>
                        <input data-jdp name="select" id="select" type="text" class="form-control" value="{{ today }}" placeholder="تاریخ" autocomplete="off">

{#                        <input style="width: 80px" type="text" name="select" id="select" class="observer-example">#}
                    </div>
                </div>
                <div class="col-md-6 mb-6 col-sm-12"></div>
                <div class="col-md-6 mb-6 col-sm-12">
                    <div class="form-group">
                        <label for="validationCustom02">شماره پن</label>

                        <input style="font-size: large" maxlength="16" minlength="16" type="text" name="pan"
                               id="pan" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1').replace(/^0[^.]/, '0');" class="form-control">
                    </div>
                <div>
                        <button onclick="InsertPan(document.getElementById('pan').value)" id="addbtn_id"
                                class="btn btn-success">ذخیره
                        </button>
                    </div>
                </div>
                <br>
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>تذکر مهم!</strong> از این به بعد ساختار شماره PAN چک میشود و اگر عددی به اشتباه ثبت شود سیستم تشخیص داده و پیغام " ساختار pan  مشکل دارد " نمایش داده میشود.
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

    </div>
        </ul>
    </div>
    {% block script %}
<script>
jalaliDatepicker.startWatch();


        function SetActiveTab(VehicleType) {
            if (VehicleType===1){
                document.getElementById('carId').className='btn btn-info'
                document.getElementById('tabCar').className='tab-pane  active show'}
                else{
                   document.getElementById('carId').className=''
                   document.getElementById('tabCar').className='tab-pane'
            }
             if (VehicleType===2){
                document.getElementById('motorId').className='btn btn-info'
                document.getElementById('tabmotorcycle').className='tab-pane  active show'}
             else{
                 document.getElementById('motorId').className=''
                 document.getElementById('tabmotorcycle').className='tab-pane'
            }
            document.getElementById("idstatus").value = VehicleType;

        }


</script>

         {% include 'script_cart.html' %}


    {% endblock %}
{% endblock %}