{% extends 'base.html' %}
{% load humanize %}
{% load static %}

{% block css %}

    <style>
        thead,
        tfoot {
            background-color: #3f87a6;
            color: #fff;
        }
    </style>
<style>
    @media print {
        @page {
            size: A4 landscape;
            margin: 10mm;
        }

        body {
            width: 297mm !important;
            height: 210mm !important;
            margin: 0 !important;
            padding: 5mm !important;
            font-size: 10pt !important;
            line-height: 1.3 !important;
            transform: scale(0.95);
            transform-origin: top right;
        }

        .panel-body {
            width: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        .table-responsive {
            overflow: visible !important;
            width: 100% !important;
        }

        .table {
            width: 100% !important;
            font-size: 8pt !important;
            table-layout: fixed !important;
        }

        .table td, .table th {
            padding: 2px 3px !important;
            word-wrap: break-word !important;
            font-size: 8pt !important;
        }

        /* Ú©Ø§Ù‡Ø´ Ø¹Ø±Ø¶ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ */


        /* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ */
        .no-print, .modal, .btn, .bi, [data-feather],
        .form-group, .nav, .modal-footer, .modal-header {
            display: none !important;
        }

        /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø´Ú©Ø³ØªÙ† ØµÙØ­Ù‡ */
        table {
            page-break-inside: auto !important;
        }
        tr {
            page-break-inside: avoid !important;
            page-break-after: auto !important;
        }
        thead {
            display: table-header-group !important;
        }

        /* Ú©Ø§Ù‡Ø´ ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§ */
        .row {
            margin-bottom: 3px !important;
        }

        br {
            display: none !important;
        }

        /* Ú©Ø§Ù‡Ø´ Ø³Ø§ÛŒØ² Ù‡Ø¯Ø± */
        h4, .h4 {
            font-size: 10pt !important;
            margin: 2px 0 !important;
        }

        /* Ú©Ø§Ù‡Ø´ padding Ú©Ø§Ù†ØªÛŒÙ†Ø±Ù‡Ø§ */
        .container, .col-1, .col-10, .col-2, .col-8, .col-sm-2, .col-sm-10 {
            padding: 0 5px !important;
            margin: 0 !important;
        }

        #accordion {
            margin: 0 !important;
            padding: 0 !important;
        }
    }

    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± */
    @media screen {
        .print-preview {
            width: 297mm;
            height: 210mm;
            border: 1px solid #ccc;
            margin: 20px auto;
            padding: 10mm;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            transform: scale(0.8);
            transform-origin: top center;
        }
    }
</style>

{% endblock %}
{% block context %}
       <script src="{% static 'assets/js/tableToExcel.js' %}"></script>
      <link type="text/css" rel="stylesheet" href="{% static 'assets/css/jalalidatepicker.min.css' %} " />
<script type="text/javascript" src="{% static 'assets/js/jalalidatepicker.min.js' %}"></script>
        {% include 'message.html' %}
    <div class="col-lg-12 col-md-12 col-sm-12">

        <div class="card">
            <div class="card-body">

        <ul class="nav">
            <div class="row">
                <div class="container">
                    <div class="col-12">
                        <h3 class="c-center c-font-uppercase c-font-bold"> Ú¯Ø²Ø§Ø±Ø´   Ø¯ÙˆØ±Ù‡ Ø§ÛŒÛŒ
                            </h3>
                        <form action="" method="post">
                            {% csrf_token %}

                            <hr>

                            <label> Ù†Ø§Ù… Ø¬Ø§ÛŒÚ¯Ø§Ù‡
                                <select name="select3" onclick="$(this).select()"

                                        class="select2-example">
                                    {% if request.user.owner.role.role == "gs" %}
                                    {% for gs in gss %}
                               <option {% if gs.gs.id == gsid %} selected {% endif %} value="{{ gs.gs.id }}"
                                        >{{ gs.gs.gsid }}-{{ gs.gs.name }}</option>
                                    {% endfor %}
                                        {% else %}
                                             {% for gs in gss %}
                                        <option {% if gs.id == gsid %} selected {% endif %} value="{{ gs.id }}"
                                        >{{ gs.gsid }}-{{ gs.name }}</option>
                                    {% endfor %}

                                {% endif %}
                                </select>
                            </label>



                            <label>Ø§Ø² ØªØ§Ø±ÛŒØ®

                                <input required data-jdp type="text" name="select" id="select" value="{{ az }}" class="form-control" placeholder="ØªØ§Ø±ÛŒØ®" autocomplete="off">
                            </label>

                            <label>ØªØ§ ØªØ§Ø±ÛŒØ®
                                <input required data-jdp type="text" name="select2" id="select2" value="{{ ta }}" class="form-control" placeholder="ØªØ§Ø±ÛŒØ®" autocomplete="off">
                            </label>
                            <button type="submit" class="btn btn-warning c-btn-uppercase">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>



                        </form>
                    </div>
                </div>
            </div>
        </ul>


    </div></div>



{% endblock %}
{% block script %}
<script>
    function set_to_print() {
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´
        $('body').addClass('print-mode');

        // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ
        $('.no-print').hide();

        // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‚Ø¨Ù„ Ø§Ø² Ù¾Ø±ÛŒÙ†Øª
        var printStyles = `
            <style>
                @media print {
                    @page {
                        size: A4 landscape;
                        margin: 10mm;
                    }
                    body {
                        width: 297mm !important;
                        height: 210mm !important;
                        margin: 0 !important;
                        padding: 5mm !important;
                        transform: scale(0.95);
                    }
                    .table {
                        font-size: 7pt !important;
                    }
                    .table td, .table th {
                        padding: 1px 2px !important;
                    }
                }
            </style>
        `;
        $('head').append(printStyles);

        // ØªØ§Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø¹Ù…Ø§Ù„ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§
        setTimeout(function() {
            window.print();

            // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ø¨Ø¹Ø¯ Ø§Ø² Ù¾Ø±ÛŒÙ†Øª
            setTimeout(function() {
                $('.no-print').show();
                $('body').removeClass('print-mode');
                $('style').last().remove();
            }, 500);
        }, 300);
    }

    // Ø¯Ú©Ù…Ù‡ Ù¾Ø±ÛŒÙ†Øª Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
    $(document).ready(function() {
        $('body').append(`
            <div class="no-print" style="position: fixed; top: 10px; left: 10px; z-index: 10000;">
                <button class="btn btn-success" onclick="set_to_print()" style="padding: 10px 20px; font-size: 16px;">
                    ğŸ–¨ï¸ Ù¾Ø±ÛŒÙ†Øª Ú¯Ø²Ø§Ø±Ø´ (Landscape)
                </button>
            </div>
        `);
    });
</script>

<script>
        jalaliDatepicker.startWatch();
        $('.select2-example').select2({
            placeholder: 'Select'
        });
    </script>
<script>

                    $("#exportBtn11").click(function () {

                TableToExcel.convert(document.getElementById("tab1"), {
                    name: "sell.xlsx",
                    sheet: {
                        name: "Sheet1"
                    }
                });
            });
    </script>
{% endblock %}